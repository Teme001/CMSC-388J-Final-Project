<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Account</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{url_for('static', filename='account.css')}}">

  <!-- Bootstrap Icons  -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  
  <!-- Font Awesome -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    rel="stylesheet"
  />
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    rel="stylesheet"
  />
  <!-- MDB -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
    rel="stylesheet"
  />
    
  <!-- MDB -->
  <script defer
    type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"
  ></script>

  <!-- STYLE CSS for Account.html -->

</head>




  
<body>
  <div id="div-nav">
  <!-- Navbar-->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid justify-content-between">
      <!-- Left elements -->
      <div class="d-flex">
        <!-- Brand -->
        <a 
          class="navbar-brand me-2 mb-1 d-flex align-items-center" href="{{url_for('main.index')}}">
          <img
            src="{{url_for('static', filename = 'M_logo.png')}}"
            height="40"
            alt="MDB Logo"
            loading="lazy"
            style="margin-top: 2px;"
          />
        </a>
  
        <!-- Search form -->
        <form class="input-group w-auto my-auto d-none d-sm-flex"  action="{{ url_for('social.search_users') }}" method="get">
          <input
            autocomplete="off"
            type="search"
            name="query"
            class="form-control rounded"
            placeholder="Search for users"
            style="min-width: 125px;"
          />
          <span class="input-group-text border-0 d-none d-lg-flex"
            ><i class="fas fa-search"></i
          ></span>
        </form>
      </div>
      <!-- Left elements -->

      
      <!-- Center elements -->
      <ul class="navbar-nav flex-row d-none d-md-flex">
        <li class="nav-item me-3 me-lg-1 active">
          <a class="nav-link" href="{{url_for('social.feed')}}">
            <span><i class="fas fa-home fa-lg"></i></span>
            <span class="badge rounded-pill badge-notification bg-danger">1</span>
          </a>
        </li>
  
        <li class="nav-item me-3 me-lg-1">
          <a class="nav-link" href="{{url_for('social.videos')}}">
            <span><i class="fas fa-video fa-lg"></i></span>
          </a>
        </li>
  
        <li class="nav-item me-3 me-lg-1">
          <a class="nav-link" href="{{ url_for('social.marketplace') }}">
            <span><i class="fas fa-shopping-bag fa-lg"></i></span>
          </a>
        </li>
  
        <li class="nav-item me-3 me-lg-1">
          <a class="nav-link" href="{{url_for('users.get_all_users')}}">
            <span><i class="fas fa-users fa-lg"></i></span>
            <span class="badge rounded-pill badge-notification bg-danger">2</span>
          </a>
        </li>
      </ul>
      <!-- Center elements -->


      
      <!-- Right elements -->
      <ul class="navbar-nav flex-row">
        
        <!-- Messages Icon -->
        <li class="nav-item dropdown me-3 me-lg-1">
          <a
            class="nav-link dropdown-toggle hidden-arrow"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-comments fa-lg"></i>
  
            <span class="badge rounded-pill badge-notification bg-danger">6</span>
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuLink"
          >
            <li>
              <a class="dropdown-item" href="#">Messages</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Another news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Something else here</a>
            </li>
          </ul>
        </li>

        <!-- Notification Icon -->
        <li class="nav-item dropdown me-3 me-lg-1">
          <a
            class="nav-link dropdown-toggle hidden-arrow"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="fas fa-bell fa-lg"></i>
            <span class="badge rounded-pill badge-notification 
              bg-danger">12
            </span>
          </a>
          
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuLink"
          >
            <li>
              <a class="dropdown-item" href="#">Some news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">Another news</a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                Something else here</a>
            </li>
          </ul>
        </li>

        
        <!-- Avatar Icon -->
       <div class="dropdown" id="div-avatar">
          <a
            class="dropdown-toggle d-flex align-items-center hidden-arrow"
            href="#"
            id="navbarDropdownMenuAvatar"
            role="button"
            data-mdb-toggle="dropdown"
            aria-expanded="false"
          >
            <img
              src="data:image/png;base64,{{image}}"
              class="rounded-circle"
              height="35"
              alt="Profile image small"
              loading="lazy"
            />
          </a>
          <ul
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="navbarDropdownMenuAvatar"
          >
            <li>
              <a class="dropdown-item" href="{{ url_for('social.profile', user_id=current_user.get_id()) }}">My profile</a>
            </li>
            <li>
              <a class="dropdown-item" href="{{url_for('social.settings')}}">Settings</a>
            </li>
            <li>
              <a class="dropdown-item" 
                href="{{ url_for('users.logout') }}">Logout</a>
            </li>
          </ul>
        </div>

      </ul>
      <!-- Right elements -->
      
    </div>
  </nav>
  </div>
</div>
  

  <main>
    <div class="d-flex justify-content-center p-3">
    <div class="d-inline-flex p-3">
      <div class="col-md-auto">
        {% if user.profile_pic %}
          <img class = "propic"
              src="data:image/png;base64,{{image}}"
              class="rounded-circle"
              height="35"
              alt="#"
              loading="lazy"
            />
        {% else %}
          <img class="propic" src="{{url_for('static', filename='default.jpg')}}" class="rounded-circle" height ="100" loading="lazy" />
      {% endif %}
        <h2>{{ user.username }}'s Profile</h2>
        <h6>Email: {{ user.email }}</h6>
        <p>About: {{user.bio }}</p>
      </div>

      <a href ="{{ url_for('social.settings')}}">Update Profile</a>
            

    <div class="col-md-auto">

  {% if current_user.is_authenticated and current_user.id != user.id and user not in current_user.following %}
    <form action="{{ url_for('social.follow_user', follower_name=current_user.username, following_name=user.username) }}" method="post">
      <button type="submit" class="btn btn-outline-danger btn-lg">Follow</button>
    </form>
    
  {% endif %}
<br>
  <h3>Followers: {{ followers_count }}</a></h3>
  <h3>Following: {{ following_count }}</a></h3>
    </div>
  </div>
    </div>
    </main>
</body>
</html>
